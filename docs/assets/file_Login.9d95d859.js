import{h as x,i as S,r as i,z as L,o as d,c as u,a as s,q as V,w as v,v as g,n as w,b as h,l as C,A as E,e as N,p as I,g as M,H as U,E as z}from"./file_index.418e5d70.js";import{_ as B}from"./file_logoleave.b2556a4f.js";import{_ as A}from"./file__plugin-vue_export-helper.e718e6fb.js";const e=n=>(I("data-v-d8147388"),n=n(),M(),n),P={class:"login-container"},R={class:"box login-box"},T=e(()=>s("div",{class:"welcome"},[s("img",{src:B,alt:"",srcset:"",class:"logo"}),s("div",{class:"m-4"},[s("h2",{class:"is-size-4"},"Welcome to Progress"),s("p",null,"Log in to Sync")])],-1)),j=["onSubmit"],q=e(()=>s("div",{class:"field is-fullwidth"},null,-1)),D={class:"field mt-5"},H={class:"control has-icons-left has-icons-right"},W=e(()=>s("span",{class:"icon is-left"},[s("i",{class:"fas fa-envelope"})],-1)),$=e(()=>s("span",{class:"icon is-right"},[s("i",{class:"fas fa-check"})],-1)),F={key:0,class:"help is-danger"},G={class:"field"},J={class:"control has-icons-left has-icons-right"},K=e(()=>s("span",{class:"icon is-left"},[s("i",{class:"fas fa-lock"})],-1)),O=e(()=>s("span",{class:"icon is-right"},[s("i",{class:"fas fa-check"})],-1)),Q={key:0,class:"help is-danger"},X={key:1,class:"help is-danger"},Y=e(()=>s("div",{class:"field mt-5"},[s("div",{class:"control"},[s("button",{class:"button is-fullwidth is-primary",type:"submit",placeholder:"Log in"}," Log in ")])],-1)),Z={class:"is-flex is-fullwidth is-justify-content-center mt-5"},ss=e(()=>s("p",{class:"mr-3"},"Not registered?",-1)),es={__name:"Login",setup(n){const p=x(),f=S(),c=i(""),o=i(!1),r=i(""),a=i(!1),m=i(!1),b=async()=>{if(y()===!0?o.value=!1:o.value=!0,r.value.length<1?a.value=!0:a.value=!1,console.log("hasta aca bien"),o.value===!1&&a.value===!1){console.log("seguimos bien");let l=await U(c.value,r.value);if(l===!1)return console.log("hubo errores"),m.value=!0;{let t=await z();p.login(l),t.length===0?f.push({name:"user"}):p.saveUser(t[0]),f.push({name:"home"})}}},y=()=>{const l=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;return!!c.value.match(l)};return(l,t)=>{const k=L("router-link");return d(),u("div",P,[s("div",R,[T,s("div",null,[s("form",{onSubmit:V(b,["prevent"])},[q,s("div",D,[s("div",H,[v(s("input",{"onUpdate:modelValue":t[0]||(t[0]=_=>c.value=_),class:w({input:!0,"is-danger":o.value}),type:"email",placeholder:"Email"},null,2),[[g,c.value]]),W,$,o.value?(d(),u("p",F," this field is obligatory ")):h("",!0)])]),s("div",G,[s("div",J,[v(s("input",{"onUpdate:modelValue":t[1]||(t[1]=_=>r.value=_),class:w({input:!0,"is-danger":a.value}),type:"password",placeholder:"Password"},null,2),[[g,r.value]]),K,O,a.value?(d(),u("p",Q,"this field is obligatory")):h("",!0),m.value?(d(),u("p",X," wrong e-mail or password ")):h("",!0)])]),Y],40,j),s("div",Z,[ss,C(k,{class:"has-text-weight-bold register-link my-link",to:{name:"registration"}},{default:E(()=>[N("Create an account")]),_:1})])])])])}}},ls=A(es,[["__scopeId","data-v-d8147388"]]);export{ls as default};
